//////////////////////////////////////////////////////
// Copyright (C) Microsoft. 2018. All rights reserved.
//////////////////////////////////////////////////////


// This is automatically generated by PlayFab SDKGenerator. DO NOT modify this manually!

#include "Core/PlayFabEventsDataModels.h"
#include "Core/PlayFabJsonHelpers.h"

using namespace PlayFab;
using namespace PlayFab::EventsModels;

PlayFab::EventsModels::FEntityKey::~FEntityKey()
{

}

void PlayFab::EventsModels::FEntityKey::writeJSON(JsonWriter& writer) const
{
    writer->WriteObjectStart();

    if (!Id.IsEmpty() == false)
    {
        UE_LOG(LogTemp, Error, TEXT("This field is required: EntityKey::Id, PlayFab calls may not work if it remains empty."));
    }
    else
    {
        writer->WriteIdentifierPrefix(TEXT("Id"));
        writer->WriteValue(Id);
    }

    if (Type.IsEmpty() == false)
    {
        writer->WriteIdentifierPrefix(TEXT("Type"));
        writer->WriteValue(Type);
    }

    writer->WriteObjectEnd();
}

bool PlayFab::EventsModels::FEntityKey::readFromValue(const TSharedPtr<FJsonObject>& obj)
{
    bool HasSucceeded = true;

    const TSharedPtr<FJsonValue> IdValue = obj->TryGetField(TEXT("Id"));
    if (IdValue.IsValid() && !IdValue->IsNull())
    {
        FString TmpValue;
        if (IdValue->TryGetString(TmpValue)) { Id = TmpValue; }
    }

    const TSharedPtr<FJsonValue> TypeValue = obj->TryGetField(TEXT("Type"));
    if (TypeValue.IsValid() && !TypeValue->IsNull())
    {
        FString TmpValue;
        if (TypeValue->TryGetString(TmpValue)) { Type = TmpValue; }
    }

    return HasSucceeded;
}

PlayFab::EventsModels::FCreateTelemetryKeyRequest::~FCreateTelemetryKeyRequest()
{
    //if (Entity != nullptr) delete Entity;

}

void PlayFab::EventsModels::FCreateTelemetryKeyRequest::writeJSON(JsonWriter& writer) const
{
    writer->WriteObjectStart();

    if (CustomTags.Num() != 0)
    {
        writer->WriteObjectStart(TEXT("CustomTags"));
        for (TMap<FString, FString>::TConstIterator It(CustomTags); It; ++It)
        {
            writer->WriteIdentifierPrefix((*It).Key);
            writer->WriteValue((*It).Value);
        }
        writer->WriteObjectEnd();
    }

    if (Entity.IsValid())
    {
        writer->WriteIdentifierPrefix(TEXT("Entity"));
        Entity->writeJSON(writer);
    }

    if (!KeyName.IsEmpty() == false)
    {
        UE_LOG(LogTemp, Error, TEXT("This field is required: CreateTelemetryKeyRequest::KeyName, PlayFab calls may not work if it remains empty."));
    }
    else
    {
        writer->WriteIdentifierPrefix(TEXT("KeyName"));
        writer->WriteValue(KeyName);
    }

    writer->WriteObjectEnd();
}

bool PlayFab::EventsModels::FCreateTelemetryKeyRequest::readFromValue(const TSharedPtr<FJsonObject>& obj)
{
    bool HasSucceeded = true;

    const TSharedPtr<FJsonObject>* CustomTagsObject;
    if (obj->TryGetObjectField(TEXT("CustomTags"), CustomTagsObject))
    {
        for (TMap<FString, TSharedPtr<FJsonValue>>::TConstIterator It((*CustomTagsObject)->Values); It; ++It)
        {
            CustomTags.Add(It.Key(), It.Value()->AsString());
        }
    }

    const TSharedPtr<FJsonValue> EntityValue = obj->TryGetField(TEXT("Entity"));
    if (EntityValue.IsValid() && !EntityValue->IsNull())
    {
        Entity = MakeShareable(new FEntityKey(EntityValue->AsObject()));
    }

    const TSharedPtr<FJsonValue> KeyNameValue = obj->TryGetField(TEXT("KeyName"));
    if (KeyNameValue.IsValid() && !KeyNameValue->IsNull())
    {
        FString TmpValue;
        if (KeyNameValue->TryGetString(TmpValue)) { KeyName = TmpValue; }
    }

    return HasSucceeded;
}

PlayFab::EventsModels::FTelemetryKeyDetails::~FTelemetryKeyDetails()
{

}

void PlayFab::EventsModels::FTelemetryKeyDetails::writeJSON(JsonWriter& writer) const
{
    writer->WriteObjectStart();

    writer->WriteIdentifierPrefix(TEXT("CreateTime"));
    writeDatetime(CreateTime, writer);

    writer->WriteIdentifierPrefix(TEXT("IsActive"));
    writer->WriteValue(IsActive);

    if (KeyValue.IsEmpty() == false)
    {
        writer->WriteIdentifierPrefix(TEXT("KeyValue"));
        writer->WriteValue(KeyValue);
    }

    writer->WriteIdentifierPrefix(TEXT("LastUpdateTime"));
    writeDatetime(LastUpdateTime, writer);

    if (Name.IsEmpty() == false)
    {
        writer->WriteIdentifierPrefix(TEXT("Name"));
        writer->WriteValue(Name);
    }

    writer->WriteObjectEnd();
}

bool PlayFab::EventsModels::FTelemetryKeyDetails::readFromValue(const TSharedPtr<FJsonObject>& obj)
{
    bool HasSucceeded = true;

    const TSharedPtr<FJsonValue> CreateTimeValue = obj->TryGetField(TEXT("CreateTime"));
    if (CreateTimeValue.IsValid())
        CreateTime = readDatetime(CreateTimeValue);


    const TSharedPtr<FJsonValue> IsActiveValue = obj->TryGetField(TEXT("IsActive"));
    if (IsActiveValue.IsValid() && !IsActiveValue->IsNull())
    {
        bool TmpValue;
        if (IsActiveValue->TryGetBool(TmpValue)) { IsActive = TmpValue; }
    }

    const TSharedPtr<FJsonValue> KeyValueValue = obj->TryGetField(TEXT("KeyValue"));
    if (KeyValueValue.IsValid() && !KeyValueValue->IsNull())
    {
        FString TmpValue;
        if (KeyValueValue->TryGetString(TmpValue)) { KeyValue = TmpValue; }
    }

    const TSharedPtr<FJsonValue> LastUpdateTimeValue = obj->TryGetField(TEXT("LastUpdateTime"));
    if (LastUpdateTimeValue.IsValid())
        LastUpdateTime = readDatetime(LastUpdateTimeValue);


    const TSharedPtr<FJsonValue> NameValue = obj->TryGetField(TEXT("Name"));
    if (NameValue.IsValid() && !NameValue->IsNull())
    {
        FString TmpValue;
        if (NameValue->TryGetString(TmpValue)) { Name = TmpValue; }
    }

    return HasSucceeded;
}

PlayFab::EventsModels::FCreateTelemetryKeyResponse::~FCreateTelemetryKeyResponse()
{
    //if (NewKeyDetails != nullptr) delete NewKeyDetails;

}

void PlayFab::EventsModels::FCreateTelemetryKeyResponse::writeJSON(JsonWriter& writer) const
{
    writer->WriteObjectStart();

    if (NewKeyDetails.IsValid())
    {
        writer->WriteIdentifierPrefix(TEXT("NewKeyDetails"));
        NewKeyDetails->writeJSON(writer);
    }

    writer->WriteObjectEnd();
}

bool PlayFab::EventsModels::FCreateTelemetryKeyResponse::readFromValue(const TSharedPtr<FJsonObject>& obj)
{
    bool HasSucceeded = true;

    const TSharedPtr<FJsonValue> NewKeyDetailsValue = obj->TryGetField(TEXT("NewKeyDetails"));
    if (NewKeyDetailsValue.IsValid() && !NewKeyDetailsValue->IsNull())
    {
        NewKeyDetails = MakeShareable(new FTelemetryKeyDetails(NewKeyDetailsValue->AsObject()));
    }

    return HasSucceeded;
}

PlayFab::EventsModels::FDeleteTelemetryKeyRequest::~FDeleteTelemetryKeyRequest()
{
    //if (Entity != nullptr) delete Entity;

}

void PlayFab::EventsModels::FDeleteTelemetryKeyRequest::writeJSON(JsonWriter& writer) const
{
    writer->WriteObjectStart();

    if (CustomTags.Num() != 0)
    {
        writer->WriteObjectStart(TEXT("CustomTags"));
        for (TMap<FString, FString>::TConstIterator It(CustomTags); It; ++It)
        {
            writer->WriteIdentifierPrefix((*It).Key);
            writer->WriteValue((*It).Value);
        }
        writer->WriteObjectEnd();
    }

    if (Entity.IsValid())
    {
        writer->WriteIdentifierPrefix(TEXT("Entity"));
        Entity->writeJSON(writer);
    }

    if (!KeyName.IsEmpty() == false)
    {
        UE_LOG(LogTemp, Error, TEXT("This field is required: DeleteTelemetryKeyRequest::KeyName, PlayFab calls may not work if it remains empty."));
    }
    else
    {
        writer->WriteIdentifierPrefix(TEXT("KeyName"));
        writer->WriteValue(KeyName);
    }

    writer->WriteObjectEnd();
}

bool PlayFab::EventsModels::FDeleteTelemetryKeyRequest::readFromValue(const TSharedPtr<FJsonObject>& obj)
{
    bool HasSucceeded = true;

    const TSharedPtr<FJsonObject>* CustomTagsObject;
    if (obj->TryGetObjectField(TEXT("CustomTags"), CustomTagsObject))
    {
        for (TMap<FString, TSharedPtr<FJsonValue>>::TConstIterator It((*CustomTagsObject)->Values); It; ++It)
        {
            CustomTags.Add(It.Key(), It.Value()->AsString());
        }
    }

    const TSharedPtr<FJsonValue> EntityValue = obj->TryGetField(TEXT("Entity"));
    if (EntityValue.IsValid() && !EntityValue->IsNull())
    {
        Entity = MakeShareable(new FEntityKey(EntityValue->AsObject()));
    }

    const TSharedPtr<FJsonValue> KeyNameValue = obj->TryGetField(TEXT("KeyName"));
    if (KeyNameValue.IsValid() && !KeyNameValue->IsNull())
    {
        FString TmpValue;
        if (KeyNameValue->TryGetString(TmpValue)) { KeyName = TmpValue; }
    }

    return HasSucceeded;
}

PlayFab::EventsModels::FDeleteTelemetryKeyResponse::~FDeleteTelemetryKeyResponse()
{

}

void PlayFab::EventsModels::FDeleteTelemetryKeyResponse::writeJSON(JsonWriter& writer) const
{
    writer->WriteObjectStart();

    writer->WriteIdentifierPrefix(TEXT("WasKeyDeleted"));
    writer->WriteValue(WasKeyDeleted);

    writer->WriteObjectEnd();
}

bool PlayFab::EventsModels::FDeleteTelemetryKeyResponse::readFromValue(const TSharedPtr<FJsonObject>& obj)
{
    bool HasSucceeded = true;

    const TSharedPtr<FJsonValue> WasKeyDeletedValue = obj->TryGetField(TEXT("WasKeyDeleted"));
    if (WasKeyDeletedValue.IsValid() && !WasKeyDeletedValue->IsNull())
    {
        bool TmpValue;
        if (WasKeyDeletedValue->TryGetBool(TmpValue)) { WasKeyDeleted = TmpValue; }
    }

    return HasSucceeded;
}

PlayFab::EventsModels::FEventContents::~FEventContents()
{
    //if (Entity != nullptr) delete Entity;

}

void PlayFab::EventsModels::FEventContents::writeJSON(JsonWriter& writer) const
{
    writer->WriteObjectStart();

    if (CustomTags.Num() != 0)
    {
        writer->WriteObjectStart(TEXT("CustomTags"));
        for (TMap<FString, FString>::TConstIterator It(CustomTags); It; ++It)
        {
            writer->WriteIdentifierPrefix((*It).Key);
            writer->WriteValue((*It).Value);
        }
        writer->WriteObjectEnd();
    }

    if (Entity.IsValid())
    {
        writer->WriteIdentifierPrefix(TEXT("Entity"));
        Entity->writeJSON(writer);
    }

    if (!EventNamespace.IsEmpty() == false)
    {
        UE_LOG(LogTemp, Error, TEXT("This field is required: EventContents::EventNamespace, PlayFab calls may not work if it remains empty."));
    }
    else
    {
        writer->WriteIdentifierPrefix(TEXT("EventNamespace"));
        writer->WriteValue(EventNamespace);
    }

    if (!Name.IsEmpty() == false)
    {
        UE_LOG(LogTemp, Error, TEXT("This field is required: EventContents::Name, PlayFab calls may not work if it remains empty."));
    }
    else
    {
        writer->WriteIdentifierPrefix(TEXT("Name"));
        writer->WriteValue(Name);
    }

    if (OriginalId.IsEmpty() == false)
    {
        writer->WriteIdentifierPrefix(TEXT("OriginalId"));
        writer->WriteValue(OriginalId);
    }

    if (OriginalTimestamp.notNull())
    {
        writer->WriteIdentifierPrefix(TEXT("OriginalTimestamp"));
        writeDatetime(OriginalTimestamp, writer);
    }

    if (Payload.notNull())
    {
        writer->WriteIdentifierPrefix(TEXT("Payload"));
        Payload.writeJSON(writer);
    }

    if (PayloadJSON.IsEmpty() == false)
    {
        writer->WriteIdentifierPrefix(TEXT("PayloadJSON"));
        writer->WriteValue(PayloadJSON);
    }

    writer->WriteObjectEnd();
}

bool PlayFab::EventsModels::FEventContents::readFromValue(const TSharedPtr<FJsonObject>& obj)
{
    bool HasSucceeded = true;

    const TSharedPtr<FJsonObject>* CustomTagsObject;
    if (obj->TryGetObjectField(TEXT("CustomTags"), CustomTagsObject))
    {
        for (TMap<FString, TSharedPtr<FJsonValue>>::TConstIterator It((*CustomTagsObject)->Values); It; ++It)
        {
            CustomTags.Add(It.Key(), It.Value()->AsString());
        }
    }

    const TSharedPtr<FJsonValue> EntityValue = obj->TryGetField(TEXT("Entity"));
    if (EntityValue.IsValid() && !EntityValue->IsNull())
    {
        Entity = MakeShareable(new FEntityKey(EntityValue->AsObject()));
    }

    const TSharedPtr<FJsonValue> EventNamespaceValue = obj->TryGetField(TEXT("EventNamespace"));
    if (EventNamespaceValue.IsValid() && !EventNamespaceValue->IsNull())
    {
        FString TmpValue;
        if (EventNamespaceValue->TryGetString(TmpValue)) { EventNamespace = TmpValue; }
    }

    const TSharedPtr<FJsonValue> NameValue = obj->TryGetField(TEXT("Name"));
    if (NameValue.IsValid() && !NameValue->IsNull())
    {
        FString TmpValue;
        if (NameValue->TryGetString(TmpValue)) { Name = TmpValue; }
    }

    const TSharedPtr<FJsonValue> OriginalIdValue = obj->TryGetField(TEXT("OriginalId"));
    if (OriginalIdValue.IsValid() && !OriginalIdValue->IsNull())
    {
        FString TmpValue;
        if (OriginalIdValue->TryGetString(TmpValue)) { OriginalId = TmpValue; }
    }

    const TSharedPtr<FJsonValue> OriginalTimestampValue = obj->TryGetField(TEXT("OriginalTimestamp"));
    if (OriginalTimestampValue.IsValid())
        OriginalTimestamp = readDatetime(OriginalTimestampValue);


    const TSharedPtr<FJsonValue> PayloadValue = obj->TryGetField(TEXT("Payload"));
    if (PayloadValue.IsValid() && !PayloadValue->IsNull())
    {
        Payload = FJsonKeeper(PayloadValue);
    }

    const TSharedPtr<FJsonValue> PayloadJSONValue = obj->TryGetField(TEXT("PayloadJSON"));
    if (PayloadJSONValue.IsValid() && !PayloadJSONValue->IsNull())
    {
        FString TmpValue;
        if (PayloadJSONValue->TryGetString(TmpValue)) { PayloadJSON = TmpValue; }
    }

    return HasSucceeded;
}

PlayFab::EventsModels::FGetTelemetryKeyRequest::~FGetTelemetryKeyRequest()
{
    //if (Entity != nullptr) delete Entity;

}

void PlayFab::EventsModels::FGetTelemetryKeyRequest::writeJSON(JsonWriter& writer) const
{
    writer->WriteObjectStart();

    if (CustomTags.Num() != 0)
    {
        writer->WriteObjectStart(TEXT("CustomTags"));
        for (TMap<FString, FString>::TConstIterator It(CustomTags); It; ++It)
        {
            writer->WriteIdentifierPrefix((*It).Key);
            writer->WriteValue((*It).Value);
        }
        writer->WriteObjectEnd();
    }

    if (Entity.IsValid())
    {
        writer->WriteIdentifierPrefix(TEXT("Entity"));
        Entity->writeJSON(writer);
    }

    if (!KeyName.IsEmpty() == false)
    {
        UE_LOG(LogTemp, Error, TEXT("This field is required: GetTelemetryKeyRequest::KeyName, PlayFab calls may not work if it remains empty."));
    }
    else
    {
        writer->WriteIdentifierPrefix(TEXT("KeyName"));
        writer->WriteValue(KeyName);
    }

    writer->WriteObjectEnd();
}

bool PlayFab::EventsModels::FGetTelemetryKeyRequest::readFromValue(const TSharedPtr<FJsonObject>& obj)
{
    bool HasSucceeded = true;

    const TSharedPtr<FJsonObject>* CustomTagsObject;
    if (obj->TryGetObjectField(TEXT("CustomTags"), CustomTagsObject))
    {
        for (TMap<FString, TSharedPtr<FJsonValue>>::TConstIterator It((*CustomTagsObject)->Values); It; ++It)
        {
            CustomTags.Add(It.Key(), It.Value()->AsString());
        }
    }

    const TSharedPtr<FJsonValue> EntityValue = obj->TryGetField(TEXT("Entity"));
    if (EntityValue.IsValid() && !EntityValue->IsNull())
    {
        Entity = MakeShareable(new FEntityKey(EntityValue->AsObject()));
    }

    const TSharedPtr<FJsonValue> KeyNameValue = obj->TryGetField(TEXT("KeyName"));
    if (KeyNameValue.IsValid() && !KeyNameValue->IsNull())
    {
        FString TmpValue;
        if (KeyNameValue->TryGetString(TmpValue)) { KeyName = TmpValue; }
    }

    return HasSucceeded;
}

PlayFab::EventsModels::FGetTelemetryKeyResponse::~FGetTelemetryKeyResponse()
{
    //if (KeyDetails != nullptr) delete KeyDetails;

}

void PlayFab::EventsModels::FGetTelemetryKeyResponse::writeJSON(JsonWriter& writer) const
{
    writer->WriteObjectStart();

    if (KeyDetails.IsValid())
    {
        writer->WriteIdentifierPrefix(TEXT("KeyDetails"));
        KeyDetails->writeJSON(writer);
    }

    writer->WriteObjectEnd();
}

bool PlayFab::EventsModels::FGetTelemetryKeyResponse::readFromValue(const TSharedPtr<FJsonObject>& obj)
{
    bool HasSucceeded = true;

    const TSharedPtr<FJsonValue> KeyDetailsValue = obj->TryGetField(TEXT("KeyDetails"));
    if (KeyDetailsValue.IsValid() && !KeyDetailsValue->IsNull())
    {
        KeyDetails = MakeShareable(new FTelemetryKeyDetails(KeyDetailsValue->AsObject()));
    }

    return HasSucceeded;
}

PlayFab::EventsModels::FListTelemetryKeysRequest::~FListTelemetryKeysRequest()
{
    //if (Entity != nullptr) delete Entity;

}

void PlayFab::EventsModels::FListTelemetryKeysRequest::writeJSON(JsonWriter& writer) const
{
    writer->WriteObjectStart();

    if (CustomTags.Num() != 0)
    {
        writer->WriteObjectStart(TEXT("CustomTags"));
        for (TMap<FString, FString>::TConstIterator It(CustomTags); It; ++It)
        {
            writer->WriteIdentifierPrefix((*It).Key);
            writer->WriteValue((*It).Value);
        }
        writer->WriteObjectEnd();
    }

    if (Entity.IsValid())
    {
        writer->WriteIdentifierPrefix(TEXT("Entity"));
        Entity->writeJSON(writer);
    }

    writer->WriteObjectEnd();
}

bool PlayFab::EventsModels::FListTelemetryKeysRequest::readFromValue(const TSharedPtr<FJsonObject>& obj)
{
    bool HasSucceeded = true;

    const TSharedPtr<FJsonObject>* CustomTagsObject;
    if (obj->TryGetObjectField(TEXT("CustomTags"), CustomTagsObject))
    {
        for (TMap<FString, TSharedPtr<FJsonValue>>::TConstIterator It((*CustomTagsObject)->Values); It; ++It)
        {
            CustomTags.Add(It.Key(), It.Value()->AsString());
        }
    }

    const TSharedPtr<FJsonValue> EntityValue = obj->TryGetField(TEXT("Entity"));
    if (EntityValue.IsValid() && !EntityValue->IsNull())
    {
        Entity = MakeShareable(new FEntityKey(EntityValue->AsObject()));
    }

    return HasSucceeded;
}

PlayFab::EventsModels::FListTelemetryKeysResponse::~FListTelemetryKeysResponse()
{

}

void PlayFab::EventsModels::FListTelemetryKeysResponse::writeJSON(JsonWriter& writer) const
{
    writer->WriteObjectStart();

    if (KeyDetails.Num() != 0)
    {
        writer->WriteArrayStart(TEXT("KeyDetails"));
        for (const FTelemetryKeyDetails& item : KeyDetails)
            item.writeJSON(writer);
        writer->WriteArrayEnd();
    }


    writer->WriteObjectEnd();
}

bool PlayFab::EventsModels::FListTelemetryKeysResponse::readFromValue(const TSharedPtr<FJsonObject>& obj)
{
    bool HasSucceeded = true;

    const TArray<TSharedPtr<FJsonValue>>&KeyDetailsArray = FPlayFabJsonHelpers::ReadArray(obj, TEXT("KeyDetails"));
    for (int32 Idx = 0; Idx < KeyDetailsArray.Num(); Idx++)
    {
        TSharedPtr<FJsonValue> CurrentItem = KeyDetailsArray[Idx];
        KeyDetails.Add(FTelemetryKeyDetails(CurrentItem->AsObject()));
    }


    return HasSucceeded;
}

PlayFab::EventsModels::FSetTelemetryKeyActiveRequest::~FSetTelemetryKeyActiveRequest()
{
    //if (Entity != nullptr) delete Entity;

}

void PlayFab::EventsModels::FSetTelemetryKeyActiveRequest::writeJSON(JsonWriter& writer) const
{
    writer->WriteObjectStart();

    writer->WriteIdentifierPrefix(TEXT("Active"));
    writer->WriteValue(Active);

    if (CustomTags.Num() != 0)
    {
        writer->WriteObjectStart(TEXT("CustomTags"));
        for (TMap<FString, FString>::TConstIterator It(CustomTags); It; ++It)
        {
            writer->WriteIdentifierPrefix((*It).Key);
            writer->WriteValue((*It).Value);
        }
        writer->WriteObjectEnd();
    }

    if (Entity.IsValid())
    {
        writer->WriteIdentifierPrefix(TEXT("Entity"));
        Entity->writeJSON(writer);
    }

    if (!KeyName.IsEmpty() == false)
    {
        UE_LOG(LogTemp, Error, TEXT("This field is required: SetTelemetryKeyActiveRequest::KeyName, PlayFab calls may not work if it remains empty."));
    }
    else
    {
        writer->WriteIdentifierPrefix(TEXT("KeyName"));
        writer->WriteValue(KeyName);
    }

    writer->WriteObjectEnd();
}

bool PlayFab::EventsModels::FSetTelemetryKeyActiveRequest::readFromValue(const TSharedPtr<FJsonObject>& obj)
{
    bool HasSucceeded = true;

    const TSharedPtr<FJsonValue> ActiveValue = obj->TryGetField(TEXT("Active"));
    if (ActiveValue.IsValid() && !ActiveValue->IsNull())
    {
        bool TmpValue;
        if (ActiveValue->TryGetBool(TmpValue)) { Active = TmpValue; }
    }

    const TSharedPtr<FJsonObject>* CustomTagsObject;
    if (obj->TryGetObjectField(TEXT("CustomTags"), CustomTagsObject))
    {
        for (TMap<FString, TSharedPtr<FJsonValue>>::TConstIterator It((*CustomTagsObject)->Values); It; ++It)
        {
            CustomTags.Add(It.Key(), It.Value()->AsString());
        }
    }

    const TSharedPtr<FJsonValue> EntityValue = obj->TryGetField(TEXT("Entity"));
    if (EntityValue.IsValid() && !EntityValue->IsNull())
    {
        Entity = MakeShareable(new FEntityKey(EntityValue->AsObject()));
    }

    const TSharedPtr<FJsonValue> KeyNameValue = obj->TryGetField(TEXT("KeyName"));
    if (KeyNameValue.IsValid() && !KeyNameValue->IsNull())
    {
        FString TmpValue;
        if (KeyNameValue->TryGetString(TmpValue)) { KeyName = TmpValue; }
    }

    return HasSucceeded;
}

PlayFab::EventsModels::FSetTelemetryKeyActiveResponse::~FSetTelemetryKeyActiveResponse()
{
    //if (KeyDetails != nullptr) delete KeyDetails;

}

void PlayFab::EventsModels::FSetTelemetryKeyActiveResponse::writeJSON(JsonWriter& writer) const
{
    writer->WriteObjectStart();

    if (KeyDetails.IsValid())
    {
        writer->WriteIdentifierPrefix(TEXT("KeyDetails"));
        KeyDetails->writeJSON(writer);
    }

    writer->WriteIdentifierPrefix(TEXT("WasKeyUpdated"));
    writer->WriteValue(WasKeyUpdated);

    writer->WriteObjectEnd();
}

bool PlayFab::EventsModels::FSetTelemetryKeyActiveResponse::readFromValue(const TSharedPtr<FJsonObject>& obj)
{
    bool HasSucceeded = true;

    const TSharedPtr<FJsonValue> KeyDetailsValue = obj->TryGetField(TEXT("KeyDetails"));
    if (KeyDetailsValue.IsValid() && !KeyDetailsValue->IsNull())
    {
        KeyDetails = MakeShareable(new FTelemetryKeyDetails(KeyDetailsValue->AsObject()));
    }

    const TSharedPtr<FJsonValue> WasKeyUpdatedValue = obj->TryGetField(TEXT("WasKeyUpdated"));
    if (WasKeyUpdatedValue.IsValid() && !WasKeyUpdatedValue->IsNull())
    {
        bool TmpValue;
        if (WasKeyUpdatedValue->TryGetBool(TmpValue)) { WasKeyUpdated = TmpValue; }
    }

    return HasSucceeded;
}

PlayFab::EventsModels::FWriteEventsRequest::~FWriteEventsRequest()
{

}

void PlayFab::EventsModels::FWriteEventsRequest::writeJSON(JsonWriter& writer) const
{
    writer->WriteObjectStart();

    if (CustomTags.Num() != 0)
    {
        writer->WriteObjectStart(TEXT("CustomTags"));
        for (TMap<FString, FString>::TConstIterator It(CustomTags); It; ++It)
        {
            writer->WriteIdentifierPrefix((*It).Key);
            writer->WriteValue((*It).Value);
        }
        writer->WriteObjectEnd();
    }

    writer->WriteArrayStart(TEXT("Events"));
    for (const FEventContents& item : Events)
        item.writeJSON(writer);
    writer->WriteArrayEnd();


    writer->WriteObjectEnd();
}

bool PlayFab::EventsModels::FWriteEventsRequest::readFromValue(const TSharedPtr<FJsonObject>& obj)
{
    bool HasSucceeded = true;

    const TSharedPtr<FJsonObject>* CustomTagsObject;
    if (obj->TryGetObjectField(TEXT("CustomTags"), CustomTagsObject))
    {
        for (TMap<FString, TSharedPtr<FJsonValue>>::TConstIterator It((*CustomTagsObject)->Values); It; ++It)
        {
            CustomTags.Add(It.Key(), It.Value()->AsString());
        }
    }

    const TArray<TSharedPtr<FJsonValue>>&EventsArray = FPlayFabJsonHelpers::ReadArray(obj, TEXT("Events"));
    for (int32 Idx = 0; Idx < EventsArray.Num(); Idx++)
    {
        TSharedPtr<FJsonValue> CurrentItem = EventsArray[Idx];
        Events.Add(FEventContents(CurrentItem->AsObject()));
    }


    return HasSucceeded;
}

PlayFab::EventsModels::FWriteEventsResponse::~FWriteEventsResponse()
{

}

void PlayFab::EventsModels::FWriteEventsResponse::writeJSON(JsonWriter& writer) const
{
    writer->WriteObjectStart();

    if (AssignedEventIds.Num() != 0)
    {
        writer->WriteArrayStart(TEXT("AssignedEventIds"));
        for (const FString& item : AssignedEventIds)
            writer->WriteValue(item);
        writer->WriteArrayEnd();
    }


    writer->WriteObjectEnd();
}

bool PlayFab::EventsModels::FWriteEventsResponse::readFromValue(const TSharedPtr<FJsonObject>& obj)
{
    bool HasSucceeded = true;

    obj->TryGetStringArrayField(TEXT("AssignedEventIds"), AssignedEventIds);

    return HasSucceeded;
}

