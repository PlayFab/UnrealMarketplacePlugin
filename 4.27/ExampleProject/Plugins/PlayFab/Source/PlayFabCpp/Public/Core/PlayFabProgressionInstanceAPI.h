//////////////////////////////////////////////////////
// Copyright (C) Microsoft. 2018. All rights reserved.
//////////////////////////////////////////////////////


// This is automatically generated by PlayFab SDKGenerator. DO NOT modify this manually!
#pragma once

#include "CoreMinimal.h"
#include "Core/PlayFabError.h"
#include "Core/PlayFabProgressionDataModels.h"
#include "Core/PlayFabSettings.h"
#include "PlayFabAPISettings.h"
#include "Interfaces/IHttpRequest.h"
#include "Interfaces/IHttpResponse.h"

namespace PlayFab
{
    /**
     * Main interface for PlayFab Sdk, specifically all Progression APIs
     */
    class PLAYFABCPP_API UPlayFabProgressionInstanceAPI
    {
    public:
        DECLARE_DELEGATE_OneParam(FCreateLeaderboardDefinitionDelegate, const ProgressionModels::FEmptyResponse&);
        DECLARE_DELEGATE_OneParam(FCreateStatisticDefinitionDelegate, const ProgressionModels::FEmptyResponse&);
        DECLARE_DELEGATE_OneParam(FDeleteLeaderboardDefinitionDelegate, const ProgressionModels::FEmptyResponse&);
        DECLARE_DELEGATE_OneParam(FDeleteLeaderboardEntriesDelegate, const ProgressionModels::FEmptyResponse&);
        DECLARE_DELEGATE_OneParam(FDeleteStatisticDefinitionDelegate, const ProgressionModels::FEmptyResponse&);
        DECLARE_DELEGATE_OneParam(FDeleteStatisticsDelegate, const ProgressionModels::FDeleteStatisticsResponse&);
        DECLARE_DELEGATE_OneParam(FGetFriendLeaderboardForEntityDelegate, const ProgressionModels::FGetEntityLeaderboardResponse&);
        DECLARE_DELEGATE_OneParam(FGetLeaderboardDelegate, const ProgressionModels::FGetEntityLeaderboardResponse&);
        DECLARE_DELEGATE_OneParam(FGetLeaderboardAroundEntityDelegate, const ProgressionModels::FGetEntityLeaderboardResponse&);
        DECLARE_DELEGATE_OneParam(FGetLeaderboardDefinitionDelegate, const ProgressionModels::FGetLeaderboardDefinitionResponse&);
        DECLARE_DELEGATE_OneParam(FGetLeaderboardForEntitiesDelegate, const ProgressionModels::FGetEntityLeaderboardResponse&);
        DECLARE_DELEGATE_OneParam(FGetStatisticDefinitionDelegate, const ProgressionModels::FGetStatisticDefinitionResponse&);
        DECLARE_DELEGATE_OneParam(FGetStatisticsDelegate, const ProgressionModels::FGetStatisticsResponse&);
        DECLARE_DELEGATE_OneParam(FGetStatisticsForEntitiesDelegate, const ProgressionModels::FGetStatisticsForEntitiesResponse&);
        DECLARE_DELEGATE_OneParam(FIncrementLeaderboardVersionDelegate, const ProgressionModels::FIncrementLeaderboardVersionResponse&);
        DECLARE_DELEGATE_OneParam(FIncrementStatisticVersionDelegate, const ProgressionModels::FIncrementStatisticVersionResponse&);
        DECLARE_DELEGATE_OneParam(FListLeaderboardDefinitionsDelegate, const ProgressionModels::FListLeaderboardDefinitionsResponse&);
        DECLARE_DELEGATE_OneParam(FListStatisticDefinitionsDelegate, const ProgressionModels::FListStatisticDefinitionsResponse&);
        DECLARE_DELEGATE_OneParam(FUnlinkLeaderboardFromStatisticDelegate, const ProgressionModels::FEmptyResponse&);
        DECLARE_DELEGATE_OneParam(FUpdateLeaderboardEntriesDelegate, const ProgressionModels::FEmptyResponse&);
        DECLARE_DELEGATE_OneParam(FUpdateStatisticsDelegate, const ProgressionModels::FUpdateStatisticsResponse&);


    private:
        TSharedPtr<UPlayFabAPISettings> settings;
        TSharedPtr<UPlayFabAuthenticationContext> authContext;
    
    public:
        UPlayFabProgressionInstanceAPI();
        explicit UPlayFabProgressionInstanceAPI(TSharedPtr<UPlayFabAPISettings> apiSettings);
        explicit UPlayFabProgressionInstanceAPI(TSharedPtr<UPlayFabAuthenticationContext> authenticationContext);
        UPlayFabProgressionInstanceAPI(TSharedPtr<UPlayFabAPISettings> apiSettings, TSharedPtr<UPlayFabAuthenticationContext> authenticationContext);
        ~UPlayFabProgressionInstanceAPI();
        UPlayFabProgressionInstanceAPI(const UPlayFabProgressionInstanceAPI& source) = delete; // disable copy
        UPlayFabProgressionInstanceAPI(UPlayFabProgressionInstanceAPI&&) = delete; // disable move
        UPlayFabProgressionInstanceAPI& operator=(const UPlayFabProgressionInstanceAPI& source) = delete; // disable assignment
        UPlayFabProgressionInstanceAPI& operator=(UPlayFabProgressionInstanceAPI&& other) = delete; // disable move assignment

        int GetPendingCalls() const;
        TSharedPtr<UPlayFabAPISettings> GetSettings() const;
        void SetSettings(TSharedPtr<UPlayFabAPISettings> apiSettings);
        TSharedPtr<UPlayFabAuthenticationContext> GetAuthenticationContext() const;
        void SetAuthenticationContext(TSharedPtr<UPlayFabAuthenticationContext> authenticationContext);
        void ForgetAllCredentials();

    private:
        TSharedPtr<UPlayFabAuthenticationContext> GetOrCreateAuthenticationContext();
    
    public:


        // ------------ Generated API calls
        // Creates a new leaderboard definition.
        bool CreateLeaderboardDefinition(ProgressionModels::FCreateLeaderboardDefinitionRequest& request, const FCreateLeaderboardDefinitionDelegate& SuccessDelegate = FCreateLeaderboardDefinitionDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Create a new entity statistic definition.
        bool CreateStatisticDefinition(ProgressionModels::FCreateStatisticDefinitionRequest& request, const FCreateStatisticDefinitionDelegate& SuccessDelegate = FCreateStatisticDefinitionDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Deletes a leaderboard definition.
        bool DeleteLeaderboardDefinition(ProgressionModels::FDeleteLeaderboardDefinitionRequest& request, const FDeleteLeaderboardDefinitionDelegate& SuccessDelegate = FDeleteLeaderboardDefinitionDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Deletes the specified entries from the given leaderboard.
        bool DeleteLeaderboardEntries(ProgressionModels::FDeleteLeaderboardEntriesRequest& request, const FDeleteLeaderboardEntriesDelegate& SuccessDelegate = FDeleteLeaderboardEntriesDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Delete an entity statistic definition. Will delete all statistics on entity profiles and leaderboards.
        bool DeleteStatisticDefinition(ProgressionModels::FDeleteStatisticDefinitionRequest& request, const FDeleteStatisticDefinitionDelegate& SuccessDelegate = FDeleteStatisticDefinitionDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Delete statistics on an entity profile. This will remove all rankings from associated leaderboards.
        bool DeleteStatistics(ProgressionModels::FDeleteStatisticsRequest& request, const FDeleteStatisticsDelegate& SuccessDelegate = FDeleteStatisticsDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Get the friend leaderboard for the specified entity. A maximum of 100 friend entries are listed in the leaderboard.
        bool GetFriendLeaderboardForEntity(ProgressionModels::FGetFriendLeaderboardForEntityRequest& request, const FGetFriendLeaderboardForEntityDelegate& SuccessDelegate = FGetFriendLeaderboardForEntityDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Get the leaderboard for a specific entity type and statistic.
        bool GetLeaderboard(ProgressionModels::FGetEntityLeaderboardRequest& request, const FGetLeaderboardDelegate& SuccessDelegate = FGetLeaderboardDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Get the leaderboard around a specific entity.
        bool GetLeaderboardAroundEntity(ProgressionModels::FGetLeaderboardAroundEntityRequest& request, const FGetLeaderboardAroundEntityDelegate& SuccessDelegate = FGetLeaderboardAroundEntityDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Gets the specified leaderboard definition.
        bool GetLeaderboardDefinition(ProgressionModels::FGetLeaderboardDefinitionRequest& request, const FGetLeaderboardDefinitionDelegate& SuccessDelegate = FGetLeaderboardDefinitionDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Get the leaderboard limited to a set of entities.
        bool GetLeaderboardForEntities(ProgressionModels::FGetLeaderboardForEntitiesRequest& request, const FGetLeaderboardForEntitiesDelegate& SuccessDelegate = FGetLeaderboardForEntitiesDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Get current statistic definition information
        bool GetStatisticDefinition(ProgressionModels::FGetStatisticDefinitionRequest& request, const FGetStatisticDefinitionDelegate& SuccessDelegate = FGetStatisticDefinitionDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Gets statistics for the specified entity.
        bool GetStatistics(ProgressionModels::FGetStatisticsRequest& request, const FGetStatisticsDelegate& SuccessDelegate = FGetStatisticsDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Gets statistics for the specified collection of entities.
        bool GetStatisticsForEntities(ProgressionModels::FGetStatisticsForEntitiesRequest& request, const FGetStatisticsForEntitiesDelegate& SuccessDelegate = FGetStatisticsForEntitiesDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Increment a leaderboard version.
        bool IncrementLeaderboardVersion(ProgressionModels::FIncrementLeaderboardVersionRequest& request, const FIncrementLeaderboardVersionDelegate& SuccessDelegate = FIncrementLeaderboardVersionDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Increment an entity statistic definition version.
        bool IncrementStatisticVersion(ProgressionModels::FIncrementStatisticVersionRequest& request, const FIncrementStatisticVersionDelegate& SuccessDelegate = FIncrementStatisticVersionDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Lists the leaderboard definitions defined for the Title.
        bool ListLeaderboardDefinitions(ProgressionModels::FListLeaderboardDefinitionsRequest& request, const FListLeaderboardDefinitionsDelegate& SuccessDelegate = FListLeaderboardDefinitionsDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Get all current statistic definitions information
        bool ListStatisticDefinitions(ProgressionModels::FListStatisticDefinitionsRequest& request, const FListStatisticDefinitionsDelegate& SuccessDelegate = FListStatisticDefinitionsDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Unlinks a leaderboard definition from it's linked statistic definition.
        bool UnlinkLeaderboardFromStatistic(ProgressionModels::FUnlinkLeaderboardFromStatisticRequest& request, const FUnlinkLeaderboardFromStatisticDelegate& SuccessDelegate = FUnlinkLeaderboardFromStatisticDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        // Adds or updates entries on the specified leaderboard.
        bool UpdateLeaderboardEntries(ProgressionModels::FUpdateLeaderboardEntriesRequest& request, const FUpdateLeaderboardEntriesDelegate& SuccessDelegate = FUpdateLeaderboardEntriesDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());
        /**
         * Update statistics on an entity profile. Depending on the statistic definition, this may result in entity being ranked on
         * various leaderboards.
         */
        bool UpdateStatistics(ProgressionModels::FUpdateStatisticsRequest& request, const FUpdateStatisticsDelegate& SuccessDelegate = FUpdateStatisticsDelegate(), const FPlayFabErrorDelegate& ErrorDelegate = FPlayFabErrorDelegate());

    private:
        // ------------ Generated result handlers
        void OnCreateLeaderboardDefinitionResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FCreateLeaderboardDefinitionDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnCreateStatisticDefinitionResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FCreateStatisticDefinitionDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnDeleteLeaderboardDefinitionResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FDeleteLeaderboardDefinitionDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnDeleteLeaderboardEntriesResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FDeleteLeaderboardEntriesDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnDeleteStatisticDefinitionResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FDeleteStatisticDefinitionDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnDeleteStatisticsResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FDeleteStatisticsDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnGetFriendLeaderboardForEntityResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FGetFriendLeaderboardForEntityDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnGetLeaderboardResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FGetLeaderboardDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnGetLeaderboardAroundEntityResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FGetLeaderboardAroundEntityDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnGetLeaderboardDefinitionResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FGetLeaderboardDefinitionDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnGetLeaderboardForEntitiesResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FGetLeaderboardForEntitiesDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnGetStatisticDefinitionResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FGetStatisticDefinitionDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnGetStatisticsResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FGetStatisticsDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnGetStatisticsForEntitiesResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FGetStatisticsForEntitiesDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnIncrementLeaderboardVersionResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FIncrementLeaderboardVersionDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnIncrementStatisticVersionResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FIncrementStatisticVersionDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnListLeaderboardDefinitionsResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FListLeaderboardDefinitionsDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnListStatisticDefinitionsResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FListStatisticDefinitionsDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnUnlinkLeaderboardFromStatisticResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FUnlinkLeaderboardFromStatisticDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnUpdateLeaderboardEntriesResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FUpdateLeaderboardEntriesDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);
        void OnUpdateStatisticsResult(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FUpdateStatisticsDelegate SuccessDelegate, FPlayFabErrorDelegate ErrorDelegate);

    };
};
